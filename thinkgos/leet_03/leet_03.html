<!--
 * @Author: one
 * @Date: 2021-06-01 22:14:02
 * @LastEditTime: 2021-06-01 23:56:22
 * @FilePath: \undefinedc:\Users\Asus\Desktop\week_leetcode\thinkgos\leet_03\leet_03.html
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      arr = [
        { id: 1, pid: 0, name: "超然科技" },
        { id: 2, pid: 0, name: "低速科技" },
        { id: 3, pid: 1, name: "科研中心" },
        { id: 4, pid: 1, name: "运营中心" },
        { id: 5, pid: 2, name: "吃喝院" },
        { id: 6, pid: 2, name: "研究院" },
        { id: 7, pid: 3, name: "aa" },
        { id: 8, pid: 3, name: "bb" },
        { id: 9, pid: 4, name: "cc" },
        { id: 10, pid: 5, name: "dd" },
        { id: 11, pid: 6, name: "ee" },
      ];
      function toTree(arr, pid) {
        let tree = [];
        let hash = {};
        arr.forEach((item) => {
          const id = item.id;
          item["children"] = hash[id] = [];
          // 判断是否为父节点
          if (item.pid === pid) {
            tree.push(item);
          } else {
            const parentId = item.pid;
            if (hash[parentId]) {
              hash[parentId].push(item);
            } else {
              hash[parentId] = [];
              hash[parentId].push(item);
            }
          }
        });
        return tree;
      }
      console.log(toTree(arr, 0));
    </script>
  </body>
</html>
